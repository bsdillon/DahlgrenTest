b'<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">\n<!-- saved from url=(0060)http://www.tcpipguide.com/free/t_IPDatagramGeneralFormat.htm --><html><!-- Generated by custom HTM processor from Mif2Go output - (C) 2004 Charles M. Kozierok --><head><title>The TCP/IP Guide - IP Datagram General Format</title>\n\n<link rel="stylesheet" type="text/css" href="./The%20TCP_IP%20Guide%20-%20IP%20Datagram%20General%20Format_files/adb.css"></head>\n<body>\n<table border="0" cellspacing="2" cellpadding="0" width="100%">\n<tbody><tr><td colspan="2"><table border="0" cellspacing="0" cellpadding="0" width="100%">\n<tbody><tr><td rowspan="2"><a href="http://www.tcpipguide.com/index.htm"><img border="0" src="./The%20TCP_IP%20Guide%20-%20IP%20Datagram%20General%20Format_files/ftitle.png"></a></td>\n<td height="28" width="100%"></td></tr><tr><td height="22" bgcolor="#D7D7EE"></td></tr>\n</tbody></table></td></tr>\n<tr><td colspan="2" align="center"><blockquote id="adblocker"><br><table border="1" cellpadding="3" cellspacing="3" bgcolor="#f7f6db"><tbody><tr><td><font size="-1"><h2>Please Whitelist This Site?</h2>\n<p>I know everyone hates ads. But please understand that I am providing premium content for free that takes hundreds of hours of time to research and write. I don\'t want to go to a pay-only model like some sites, but when more and more people block ads, I end up working for free. And I have a family to support, just like you. :)\n</p><p>If you like The TCP/IP Guide, please consider <a href="http://tcpipguide.com/la.htm">the download version</a>. It\'s priced very economically and you can read all of it in a convenient format without ads.</p>\n<p>If you want to use this site for free, I\'d be grateful if you could add the site to the whitelist for Adblock. To do so, just open the Adblock menu and select "Disable on tcpipguide.com". Or go to the Tools menu and select "Adblock Plus Preferences...". Then click "Add Filter..." at the bottom, and add this string: "@@||tcpipguide.com^$document". Then just click OK.</p>\n<p>Thanks for your understanding!</p>\n<p>Sincerely, Charles Kozierok<br>\nAuthor and Publisher, The TCP/IP Guide</p>\n</font></td></tr></tbody></table></blockquote>\n<br><center>\n<!-- Ezoic - TCP/IP Guide Top - top_of_page -->\n<div id="ezoic-pub-ad-placeholder-102">\n<script async="" src="./The%20TCP_IP%20Guide%20-%20IP%20Datagram%20General%20Format_files/f.txt"></script>\n<!-- TCP/IP Guide Top -->\n<ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-7336295634598623" data-ad-slot="7334258808" data-ad-format="auto"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n</div>\n<!-- End Ezoic - TCP/IP Guide Top - top_of_page -->\n<img src="./The%20TCP_IP%20Guide%20-%20IP%20Datagram%20General%20Format_files/space.gif" width="1" height="5">\n<table border="0" width="100%" cellspacing="0" cellpadding="0">\n  <tbody><tr>\n    <td align="center"><table border="1" cellpadding="3" cellspacing="0" bordercolor="#000000" bordercolorlight="#000000" bordercolordark="#000000">\n  <tbody><tr>\n<td>\n<font size="2"><b>NOTE:</b> Using software to mass-download the site <b>degrades the server and is prohibited</b>.<br>If you want to read The TCP/IP Guide offline, <a href="http://www.tcpipguide.com/buy.htm">please consider licensing it</a>. Thank you.\n</font></td>\n  </tr>\n</tbody></table>\n    </td>\n  </tr>\n</tbody></table>\n</center></td></tr>\n<tr><td valign="top" width="165">\n<br>\n<table width="160" border="1" cellspacing="0" bgcolor="#FFFFDD" cellpadding="0" bordercolor="#000000">\n<tbody><tr>\n<td><table width="155" border="0" cellspacing="0" bgcolor="#FFFF88" cellpadding="1" bordercolor="#000000">\n<tbody><tr><td align="center" valign="top"><a href="http://www.tcpipguide.com/buybook.htm?free" target="_blank"><img border="0" src="./The%20TCP_IP%20Guide%20-%20IP%20Datagram%20General%20Format_files/tcpip_cov_s.jpg" align="left"></a>\n<a href="http://www.tcpipguide.com/buybook.htm?free" target="_blank"><b>The Book is Here... and <i>Now On Sale</i>!</b></a></td></tr>\n</tbody></table>\n</td>\n</tr>\n</tbody></table><br><table width="160" border="1" cellspacing="0" bgcolor="#D9F9FB" cellpadding="0" bordercolor="#14AFB4">\n<tbody><tr>\n<td><table width="155" border="0" cellspacing="0" bgcolor="#D9F9FB" cellpadding="1" bordercolor="#14AFB4">\n<tbody><tr><td align="center" valign="top"><font face="arial,helvetica" size="2" color="#14AFB4"><b>Read offline with no ads or diagram watermarks!</b></font></td></tr>\n<tr><td align="center" valign="top"><font face="arial,helvetica" size="2" color="#14AFB4"><a href="http://www.tcpipguide.com/buy.htm?free" target="_blank"><b>The TCP/IP Guide</b></a></font></td></tr>\n</tbody></table>\n</td>\n</tr>\n</tbody></table><br>\n<table rules="none" border="1" cellspacing="0" bordercolor="#000000" width="160" bgcolor="#FFFFFF">\n<tbody><tr><td>\n<style type="text/css">\n@import url(//www.google.com/cse/api/branding.css);\n</style>\n<div class="cse-branding-bottom" style="background-color:#FFFFFF;color:#000000">\n  <div class="cse-branding-form">\n    <form action="http://www.google.com/" id="cse-search-box">\n      <div>\n        <input type="hidden" name="cx" value="partner-pub-7336295634598623:3845926982">\n        <input type="hidden" name="ie" value="UTF-8">\n        <input type="text" name="q" size="15">\n        <input type="submit" name="sa" value="Search">\n      </div>\n    </form>\n  </div>\n  <div class="cse-branding-logo">\n    <img src="./The%20TCP_IP%20Guide%20-%20IP%20Datagram%20General%20Format_files/poweredby_FFFFFF.gif" alt="Google">\n  </div>\n  <div class="cse-branding-text">\n    Custom Search\n  </div>\n</div>\n<br>\n<br>\n<!-- Ezoic - TCP/IP Guide Links - link_side -->\n<div id="ezoic-pub-ad-placeholder-103">\n<script async="" src="./The%20TCP_IP%20Guide%20-%20IP%20Datagram%20General%20Format_files/f.txt"></script>\n<!-- TCPIP Guide AdLinks -->\n<ins class="adsbygoogle" style="display:inline-block;width:160px;height:90px" data-ad-client="ca-pub-7336295634598623" data-ad-slot="0891441436"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n</div>\n<!-- End Ezoic - TCP/IP Guide Links - link_side -->\n<br>\n<br>\n<!-- Ezoic - TCP/IP Guide Left Upper - sidebar -->\n<div id="ezoic-pub-ad-placeholder-100">\n<script async="" src="./The%20TCP_IP%20Guide%20-%20IP%20Datagram%20General%20Format_files/f.txt"></script>\n<!-- TCPIP Guide Left Upper -->\n<ins class="adsbygoogle" style="display:inline-block;width:160px;height:600px" data-ad-client="ca-pub-7336295634598623" data-ad-slot="8023295583"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n</div>\n<!-- End Ezoic - TCP/IP Guide Left Upper - sidebar -->\n<br>\n<br>\n<!-- Ezoic - TCP/IP Guide Lower Left - sidebar -->\n<div id="ezoic-pub-ad-placeholder-101">\n<script async="" src="./The%20TCP_IP%20Guide%20-%20IP%20Datagram%20General%20Format_files/f.txt"></script>\n<!-- TCPIP Guide Left Lower -->\n<ins class="adsbygoogle" style="display:inline-block;width:160px;height:600px" data-ad-client="ca-pub-7336295634598623" data-ad-slot="3487968226"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n</div>\n<!-- End Ezoic - TCP/IP Guide Lower Left - sidebar -->\n</td></tr></tbody></table>\n</td><td>\n<br>\n<table bordercolor="#E1B3E5" border="2" cellspacing="0" cellpadding="3" width="100%">\n<tbody><tr><td align="center" width="53" bgcolor="#E1B3E5"><a href="http://www.tcpipguide.com/free/t_toc.htm"><img src="./The%20TCP_IP%20Guide%20-%20IP%20Datagram%20General%20Format_files/toc.png" border="0" alt="Table Of Contents"></a></td>\n<td align="left"><font size="-1">&#160;<a href="http://www.tcpipguide.com/free/index.htm">The TCP/IP Guide</a><br>\n&#160;<font face="Wingdings 3">9</font> &#160;<a href="http://www.tcpipguide.com/free/t_TCPIPLowerLayerInterfaceInternetandTransportProtoc.htm">TCP/IP Lower-Layer (Interface, Internet and Transport) Protocols (OSI Layers 2, 3 and 4)</a><br>\n&#160;&#160;&#160;&#160;&#160;&#160;<font face="Wingdings 3">9</font> &#160;<a href="http://www.tcpipguide.com/free/t_NetworkLayerProtocols.htm">TCP/IP Internet Layer (OSI Network Layer) Protocols</a><br>\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<font face="Wingdings 3">9</font> &#160;<a href="http://www.tcpipguide.com/free/t_InternetProtocolIPIPv4IPngIPv6andIPRelatedProtocol.htm">Internet Protocol (IP/IPv4, IPng/IPv6) and IP-Related Protocols (IP NAT, IPSec, Mobile IP)</a><br>\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<font face="Wingdings 3">9</font> &#160;<a href="http://www.tcpipguide.com/free/t_InternetProtocolVersion4IPIPv4.htm">Internet Protocol Version 4 (IP, IPv4)</a><br>\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<font face="Wingdings 3">9</font> &#160;<a href="http://www.tcpipguide.com/free/t_IPDatagramEncapsulationandFormatting.htm">IP Datagram Encapsulation and Formatting</a></font>\n</td></tr></tbody></table>\n<br>\n<table cellpadding="0" border="0" width="100%" bgcolor="#E1B3E5">\n<tbody><tr><td>\n<table cellpadding="0" border="0" width="100%">\n<tbody><tr><td width="45" align="left" valign="middle"><a href="http://www.tcpipguide.com/free/t_IPDatagramEncapsulation.htm"><img src="./The%20TCP_IP%20Guide%20-%20IP%20Datagram%20General%20Format_files/leftlarge.png" border="0" alt="Previous Topic/Section"></a></td>\n<td><table width="100%" cellpadding="2" border="0"><tbody><tr>\n<td align="left" width="50%" valign="middle"><a href="http://www.tcpipguide.com/free/t_IPDatagramEncapsulation.htm">IP Datagram Encapsulation</a><br></td>\n<td><table cellpadding="0" border="0" width="100%"><tbody><tr><td align="center"><table width="100%" cellpadding="2" border="0"><tbody><tr><td width="50%" align="right" valign="middle"><a href="http://www.tcpipguide.com/free/t_IPDatagramEncapsulation.htm"><img src="./The%20TCP_IP%20Guide%20-%20IP%20Datagram%20General%20Format_files/left.png" border="0" alt="Previous Page"></a></td><td align="center"><table border="0" cellpadding="2" cellspacing="0"><tbody><tr><td align="center"><img src="./The%20TCP_IP%20Guide%20-%20IP%20Datagram%20General%20Format_files/pages.png" border="0" alt="Pages in Current Topic/Section"></td></tr><tr><td align="center"><table border="0"><tbody><tr><td><table border="0" cellpadding="3" cellspacing="0" bgcolor="#A83EB8"><tbody><tr><td><font color="#FFFFFF"><b>1</b></font></td></tr></tbody></table></td><td><a href="http://www.tcpipguide.com/free/t_IPDatagramGeneralFormat-2.htm">2</a></td><td><a href="http://www.tcpipguide.com/free/t_IPDatagramGeneralFormat-3.htm">3</a></td></tr></tbody></table></td></tr></tbody></table></td><td width="50%" align="left" valign="middle"><a href="http://www.tcpipguide.com/free/t_IPDatagramGeneralFormat-2.htm"><img src="./The%20TCP_IP%20Guide%20-%20IP%20Datagram%20General%20Format_files/right.png" border="0" alt="Next Page"></a></td></tr></tbody></table></td></tr></tbody></table></td>\n<td align="right" width="50%" valign="middle"><a href="http://www.tcpipguide.com/free/t_IPDatagramOptionsandOptionFormat.htm">IP Datagram Options and Option Format</a><br></td>\n</tr></tbody></table></td>\n<td width="45" align="right" valign="middle"><a href="http://www.tcpipguide.com/free/t_IPDatagramOptionsandOptionFormat.htm"><img src="./The%20TCP_IP%20Guide%20-%20IP%20Datagram%20General%20Format_files/rightlarge.png" border="0" alt="Next Topic/Section"></a></td>\n</tr></tbody></table>\n</td></tr>\n</tbody></table>\n<br><font size="+2"><b><u>IP Datagram General Format</u></b></font>\n<br>(Page 1 of 3)\n<p align="left"><font face="Arial">Data transmitted over an internet \nusing IP is carried in messages called <i>IP datagrams</i>. Like all \nnetwork protocol messages, IP uses a specific format for its datagrams. \nWe are of course looking here at </font><a href="http://www.tcpipguide.com/free/t_InternetProtocolVersion4IPIPv4.htm"><font face="Arial" color="#0101C0">IP \nversion 4</font></a><font face="Arial"> and so we will examine the IPv4 \ndatagram format, which was defined in RFC 791 along with the rest of \nIPv4.</font></p>\n\n<p align="left"><font face="Arial">The IPv4 datagram is conceptually \ndivided into two pieces: the <i>header</i> and the <i>payload</i>. The \nheader contains addressing and control fields, while the payload carries \nthe actual data to be sent over the internetwork. Unlike some message \nformats, IP datagrams do not have a footer following the payload.</font></p>\n\n<p align="left"><font face="Arial">Even though IP is a relatively simple, \nconnectionless, &#8220;unreliable&#8221; protocol, the IPv4 header carries \na fair bit of information, which makes it rather large. At a minimum, \nit is 20 bytes long, and with options can be significantly longer. The \nIP datagram format is described in </font><a href="http://www.tcpipguide.com/free/t_IPDatagramGeneralFormat.htm#Table_56"><font face="Arial" color="#0000FF">Table 56</font></a><font face="Arial"> \nand illustrated in </font><a href="http://www.tcpipguide.com/free/t_IPDatagramGeneralFormat.htm#Figure_86"><font face="Arial" color="#0000FF">Figure 86</font></a><font face="Arial">. \n</font></p>\n\n<br><a name="Table_56"></a><div align="center"><table border="3" cellpadding="4" cellspacing="2"><caption align="top"><p align="center"><font face="Arial"><b>Table 56: Internet Protocol Version 4 (IPv4) Datagram Format </b></font></p></caption>\n<tbody><tr>\n<td bgcolor="#CCCCFF"><p align="center"><font face="Arial"><b>Field \nName</b></font></p>\n</td>\n<td bgcolor="#CCCCFF"><p align="center"><font face="Arial"><b>Size (bytes)</b></font></p>\n</td>\n<td align="left" bgcolor="#CCCCFF"><p align="left"><font face="Arial"><b>Description</b></font></p>\n</td>\n</tr>\n<tr>\n<td align="center"><p align="center"><font face="Arial"><b><i>Version</i></b></font></p>\n</td>\n<td align="center"><p align="center"><font face="Arial">1/2<br>\n(4 bits)</font></p>\n</td>\n<td><p align="left"><font face="Arial"><b><i>Version:</i></b> Identifies \nthe version of IP used to generate the datagram. For IPv4, this is of \ncourse the number 4. The purpose of this field is to ensure compatibility \nbetween devices that may be running different versions of IP. In general, \na device running an older version of IP will reject datagrams created \nby newer implementations, under the assumption that the older version \nmay not be able to interpret the newer datagram correctly.</font></p>\n</td>\n</tr>\n<tr>\n<td align="center" bgcolor="#E1E1FF"><p align="center"><font face="Arial"><b><i>IHL</i></b></font></p>\n</td>\n<td align="center" bgcolor="#E1E1FF"><p align="center"><font face="Arial">1/2<br>\n(4 bits)</font></p>\n</td>\n<td bgcolor="#E1E1FF"><p align="left"><font face="Arial"><b><i>Internet \nHeader Length (IHL):</i></b> Specifies the length of the IP header, \nin 32-bit words. This includes the length of any options fields and \npadding. The normal value of this field when no options are used is \n5 (5 32-bit words = 5*4 = 20 bytes). Contrast to the longer <i>Total \nLength</i> field below.</font></p>\n</td>\n</tr>\n<tr>\n<td align="center"><p align="center"><font face="Arial"><b><i>TOS</i></b></font></p>\n</td>\n<td align="center"><p align="center"><font face="Arial">1</font></p>\n</td>\n<td><p align="left"><font face="Arial"><b><i>Type Of Service (TOS):</i></b> \nA field designed to carry information to provide quality of service \nfeatures, such as prioritized delivery, for IP datagrams. It was never \nwidely used as originally defined, and its meaning has been subsequently \nredefined for use by a technique called <i>Differentiated Services (DS)</i>. \nSee below for more information.</font></p>\n</td>\n</tr>\n<tr>\n<td align="center" bgcolor="#E1E1FF"><p align="center"><font face="Arial"><b><i>TL</i></b></font></p>\n</td>\n<td align="center" bgcolor="#E1E1FF"><p align="center"><font face="Arial">2</font></p>\n</td>\n<td bgcolor="#E1E1FF"><p align="left"><font face="Arial"><b><i>Total \nLength (TL):</i></b> Specifies the total length of the IP datagram, \nin bytes. Since this field is 16 bits wide, the maximum length of an \nIP datagram is 65,535 bytes, though most are much smaller.</font></p>\n</td>\n</tr>\n<tr>\n<td align="center"><p align="center"><font face="Arial"><b><i>Identification</i></b></font></p>\n</td>\n<td align="center"><p align="center"><font face="Arial">2</font></p>\n</td>\n<td><p align="left"><font face="Arial"><b><i>Identification:</i></b> \nThis field contains a 16-bit value that is common to each of the fragments \nbelonging to a particular message; for datagrams originally sent unfragmented \nit is still filled in, so it can be used if the datagram must be fragmented \nby a router during delivery. This field is used by the recipient to \nreassemble messages without accidentally mixing fragments from different \nmessages. This is needed because fragments may arrive from multiple \nmessages mixed together, since IP datagrams can be received out of order \nfrom any device. </font><a href="http://www.tcpipguide.com/free/t_IPMessageFragmentationProcess.htm"><font face="Arial" color="#0101C0">See \nthe discussion of IP message fragmentation.</font></a></p>\n</td>\n</tr>\n<tr>\n<td align="center" bgcolor="#E1E1FF"><p align="center"><font face="Arial"><b><i>Flags</i></b></font></p>\n</td>\n<td align="center" bgcolor="#E1E1FF"><p align="center"><font face="Arial">3/8<br>\n(3 bits)</font></p>\n</td>\n<td bgcolor="#E1E1FF">\n<img src="./The%20TCP_IP%20Guide%20-%20IP%20Datagram%20General%20Format_files/aa1f0152.png" usemap="#aa1f0152" alt="">\n<map name="aa1f0152">\n<area coords="0,0,441,326" href="http://www.tcpipguide.com/free/t_IPMessageFragmentationProcess.htm">\n</map>\n<p align="left"><font face="Arial">&#160;</font></p>\n</td>\n</tr>\n<tr>\n<td align="center"><p align="center"><font face="Arial"><b><i>Fragment \nOffset</i></b></font></p>\n</td>\n<td align="center"><p align="center"><font face="Arial">1 5/8<br>\n(13 bits)</font></p>\n</td>\n<td><p align="left"><font face="Arial"><b><i>Fragment Offset:</i></b> \nWhen fragmentation of a message occurs, this field specifies the offset, \nor position, in the overall message where the data in this fragment \ngoes. It is specified in units of 8 bytes (64 bits). The first fragment \nhas an offset of 0. Again, </font><a href="http://www.tcpipguide.com/free/t_IPMessageFragmentationProcess.htm"><font face="Arial" color="#0101C0">see \nthe discussion of fragmentation</font></a><font face="Arial"> for a \ndescription of how the field is used.</font></p>\n</td>\n</tr>\n<tr>\n<td align="center" bgcolor="#E1E1FF"><p align="center"><font face="Arial"><b><i>TTL</i></b></font></p>\n</td>\n<td align="center" bgcolor="#E1E1FF"><p align="center"><font face="Arial">1</font></p>\n</td>\n<td bgcolor="#E1E1FF"><p align="left"><font face="Arial"><b><i>Time \nTo Live (TTL):</i></b> Short version: Specifies how long the datagram \nis allowed to &#8220;live&#8221; on the network, in terms of router hops. \nEach router decrements the value of the TTL field (reduces it by one) \nprior to transmitting it. If the TTL field drops to zero, the datagram \nis assumed to have taken too long a route and is discarded.<br>\n<br>\nSee below for the longer explanation of <i>TTL</i>.</font></p>\n</td>\n</tr>\n<tr>\n<td align="center"><p align="center"><font face="Arial"><b><i>Protocol</i></b></font></p>\n</td>\n<td align="center"><p align="center"><font face="Arial">1</font></p>\n</td>\n<td>\n<img src="./The%20TCP_IP%20Guide%20-%20IP%20Datagram%20General%20Format_files/aa1f02ce.png" usemap="#aa1f02ce" alt="">\n<map name="aa1f02ce">\n<area coords="0,0,441,480" href="http://www.tcpipguide.com/free/t_InternetRegistrationAuthoritiesandRegistriesIANAIC.htm">\n</map>\n<p align="left"><font face="Arial">&#160;</font></p>\n</td>\n</tr>\n<tr>\n<td align="center" bgcolor="#E1E1FF"><p align="center"><font face="Arial"><b><i>Header \nChecksum</i></b></font></p>\n</td>\n<td align="center" bgcolor="#E1E1FF"><p align="center"><font face="Arial">2</font></p>\n</td>\n<td bgcolor="#E1E1FF"><p align="left"><font face="Arial"><b><i>Header \nChecksum:</i></b> A checksum computed over the header to provide basic \nprotection against corruption in transmission. This is not the more \ncomplex CRC code typically used by data link layer technologies such \nas Ethernet; it\'s just a 16-bit checksum. It is calculated by dividing \nthe header bytes into words (a word is two bytes) and then adding them \ntogether. The data is not checksummed, only the header. At each hop \nthe device receiving the datagram does the same checksum calculation \nand on a mismatch, discards the datagram as damaged.</font></p>\n</td>\n</tr>\n<tr>\n<td align="center"><p align="center"><font face="Arial"><b><i>Source \nAddress</i></b></font></p>\n</td>\n<td align="center"><p align="center"><font face="Arial">4</font></p>\n</td>\n<td><p align="left"><font face="Arial"><b><i>Source Address:</i></b> \nThe 32-bit IP address of the originator of the datagram. Note that even \nthough intermediate devices such as routers may handle the datagram, \nthey do not normally put their address into this field&#8212;it is always \nthe device that originally sent the datagram.</font></p>\n</td>\n</tr>\n<tr>\n<td align="center" bgcolor="#E1E1FF"><p align="center"><font face="Arial"><b><i>Destination \nAddress</i></b></font></p>\n</td>\n<td align="center" bgcolor="#E1E1FF"><p align="center"><font face="Arial">4</font></p>\n</td>\n<td bgcolor="#E1E1FF"><p align="left"><font face="Arial"><b><i>Destination \nAddress:</i></b> The 32-bit IP address of the intended recipient of \nthe datagram. Again, even though devices such as routers may be the \nintermediate targets of the datagram, this field is always for the ultimate \ndestination.</font></p>\n</td>\n</tr>\n<tr>\n<td align="center"><p align="center"><font face="Arial"><b><i>Options</i></b></font></p>\n</td>\n<td align="center"><p align="center"><font face="Arial">Variable</font></p>\n</td>\n<td><p align="left"><font face="Arial"><b><i>Options:</i></b> One or \nmore of several types of options may be included after the standard \nheaders in certain IP datagrams. I discuss them in </font><a href="http://www.tcpipguide.com/free/t_IPDatagramOptionsandOptionFormat.htm"><font face="Arial" color="#0101C0">the \ntopic that follows this one</font></a><font face="Arial">.</font></p>\n</td>\n</tr>\n<tr>\n<td align="center" bgcolor="#E1E1FF"><p align="center"><font face="Arial"><b><i>Padding</i></b></font></p>\n</td>\n<td align="center" bgcolor="#E1E1FF"><p align="center"><font face="Arial">Variable</font></p>\n</td>\n<td bgcolor="#E1E1FF"><p align="left"><font face="Arial"><b><i>Padding:</i></b> \nIf one or more options are included, and the number of bits used for \nthem is not a multiple of 32, enough zero bits are added to &#8220;pad \nout&#8221; the header to a multiple of 32 bits (4 bytes).</font></p>\n</td>\n</tr>\n<tr>\n<td align="center"><p align="center"><font face="Arial"><b><i>Data</i></b></font></p>\n</td>\n<td align="center"><p align="center"><font face="Arial">Variable</font></p>\n</td>\n<td><p align="left"><font face="Arial"><b><i>Data:</i></b> The data \nto be transmitted in the datagram, either an entire higher-layer message \nor a fragment of one.</font></p>\n</td>\n</tr>\n</tbody></table>\n\n<br><a name="Figure_86"></a></div><br><div align="center"><table border="0" cellpadding="4" cellspacing="2"><caption align="bottom"><p align="center"><font face="Arial"><b>Figure 86: Internet Protocol Version 4 (IPv4) Datagram Format</b></font></p><p align="center"><font face="Arial">This diagram shows graphically the all-important IPv4 datagram format. The first 20 bytes are the fixed IP header, followed by an optional <i>Options</i> section, and a variable-length <i>Data</i> area. Note that the <i>Type Of Service</i> field is shown as originally defined in the IPv4 standard.</font></p></caption>\n<tbody><tr>\n<td align="center" valign="top"><p align="center"><font face="Arial" size="1">&#160;</font></p>\n<p align="center">\n<img src="./The%20TCP_IP%20Guide%20-%20IP%20Datagram%20General%20Format_files/ipformat.png" alt=""></p>\n</td>\n</tr>\n</tbody></table>\n\n</div><br><p align="left"><font face="Arial">That&#8217;s a pretty big \ntable, because the IP datagram format is pretty important and has a \nlot of fields that need explaining. To keep it from being even longer, \nI decided to move a couple of the more complex descriptions out of the \ntable.</font></p>\n\n<br>\n<table cellpadding="0" border="0" width="100%" bgcolor="#E1B3E5">\n<tbody><tr><td>\n<table cellpadding="0" border="0" width="100%">\n<tbody><tr><td width="45" align="left" valign="middle"><a href="http://www.tcpipguide.com/free/t_IPDatagramEncapsulation.htm"><img src="./The%20TCP_IP%20Guide%20-%20IP%20Datagram%20General%20Format_files/leftlarge.png" border="0" alt="Previous Topic/Section"></a></td>\n<td><table width="100%" cellpadding="2" border="0"><tbody><tr>\n<td align="left" width="50%" valign="middle"><a href="http://www.tcpipguide.com/free/t_IPDatagramEncapsulation.htm">IP Datagram Encapsulation</a><br></td>\n<td><table cellpadding="0" border="0" width="100%"><tbody><tr><td align="center"><table width="100%" cellpadding="2" border="0"><tbody><tr><td width="50%" align="right" valign="middle"><a href="http://www.tcpipguide.com/free/t_IPDatagramEncapsulation.htm"><img src="./The%20TCP_IP%20Guide%20-%20IP%20Datagram%20General%20Format_files/left.png" border="0" alt="Previous Page"></a></td><td align="center"><table border="0" cellpadding="2" cellspacing="0"><tbody><tr><td align="center"><img src="./The%20TCP_IP%20Guide%20-%20IP%20Datagram%20General%20Format_files/pages.png" border="0" alt="Pages in Current Topic/Section"></td></tr><tr><td align="center"><table border="0"><tbody><tr><td><table border="0" cellpadding="3" cellspacing="0" bgcolor="#A83EB8"><tbody><tr><td><font color="#FFFFFF"><b>1</b></font></td></tr></tbody></table></td><td><a href="http://www.tcpipguide.com/free/t_IPDatagramGeneralFormat-2.htm">2</a></td><td><a href="http://www.tcpipguide.com/free/t_IPDatagramGeneralFormat-3.htm">3</a></td></tr></tbody></table></td></tr></tbody></table></td><td width="50%" align="left" valign="middle"><a href="http://www.tcpipguide.com/free/t_IPDatagramGeneralFormat-2.htm"><img src="./The%20TCP_IP%20Guide%20-%20IP%20Datagram%20General%20Format_files/right.png" border="0" alt="Next Page"></a></td></tr></tbody></table></td></tr></tbody></table></td>\n<td align="right" width="50%" valign="middle"><a href="http://www.tcpipguide.com/free/t_IPDatagramOptionsandOptionFormat.htm">IP Datagram Options and Option Format</a><br></td>\n</tr></tbody></table></td>\n<td width="45" align="right" valign="middle"><a href="http://www.tcpipguide.com/free/t_IPDatagramOptionsandOptionFormat.htm"><img src="./The%20TCP_IP%20Guide%20-%20IP%20Datagram%20General%20Format_files/rightlarge.png" border="0" alt="Next Topic/Section"></a></td>\n</tr></tbody></table>\n</td></tr>\n</tbody></table>\n<br>\n<table border="2" bordercolor="#A0FFA0" bgcolor="#E0FFE0" width="100%" cellspacing="0" cellpadding="3"><tbody><tr><td>\n<table border="0" width="100%" cellspacing="0" cellpadding="0"><tbody><tr>\n</tr><tr><td colspan="6"><font size="-1">If you find The TCP/IP Guide useful, please consider making a small Paypal donation to help the site, using one of the buttons below. You can also donate a custom amount using the far right button (not less than $1 please, or PayPal gets most/all of your money!) In lieu of a larger donation, you may wish to <a href="http://www.tcpipguide.com/la.htm">consider purchasing a download license of The TCP/IP Guide</a>. Thanks for your support!</font></td></tr><tr>\n<td align="center"><table><tbody><tr>\n<td><table width="80" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td align="center" valign="middle">\n<form action="https://www.paypal.com/cgi-bin/webscr" method="post" class="donateform">\n<font size="-1"><b>Donate $2</b></font>\n<input type="hidden" name="cmd" value="_xclick">\n<input type="hidden" name="business" value="pay@tcpipguide.com">\n<input type="hidden" name="return" value="http://www.tcpipguide.com/free/t_IPDatagramGeneralFormat.htm">\n<input type="hidden" name="item_name" value="TCP/IP Guide PayPal Donation: $2">\n<input type="hidden" name="cancel_return" value="http://www.tcpipguide.com/free/t_IPDatagramGeneralFormat.htm">\n<input type="hidden" name="item_number" value="TCP/IP Guide PayPal Donation: $2">\n<input type="hidden" name="no_shipping" value="1">\n<input type="hidden" name="amount" value="2">\n<input type="image" align="center" src="./The%20TCP_IP%20Guide%20-%20IP%20Datagram%20General%20Format_files/x-click-but04.gif" border="0" name="submit" alt="TCP/IP Guide PayPal Donation: $2" width="62" height="31">\n</form></td></tr></tbody></table></td>\n<td><table width="80" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td align="center" valign="middle">\n<form action="https://www.paypal.com/cgi-bin/webscr" method="post" class="donateform">\n<font size="-1"><b>Donate $5</b></font>\n<input type="hidden" name="cmd" value="_xclick">\n<input type="hidden" name="business" value="pay@tcpipguide.com">\n<input type="hidden" name="return" value="http://www.tcpipguide.com/free/t_IPDatagramGeneralFormat.htm">\n<input type="hidden" name="item_name" value="TCP/IP Guide PayPal Donation: $5">\n<input type="hidden" name="cancel_return" value="http://www.tcpipguide.com/free/t_IPDatagramGeneralFormat.htm">\n<input type="hidden" name="item_number" value="TCP/IP Guide PayPal Donation: $5">\n<input type="hidden" name="no_shipping" value="1">\n<input type="hidden" name="amount" value="5">\n<input type="image" align="center" src="./The%20TCP_IP%20Guide%20-%20IP%20Datagram%20General%20Format_files/x-click-but04.gif" border="0" name="submit" alt="TCP/IP Guide PayPal Donation: $5" width="62" height="31">\n</form></td></tr></tbody></table></td>\n<td><table width="80" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td align="center" valign="middle">\n<form action="https://www.paypal.com/cgi-bin/webscr" method="post" class="donateform">\n<font size="-1"><b>Donate $10</b></font>\n<input type="hidden" name="cmd" value="_xclick">\n<input type="hidden" name="business" value="pay@tcpipguide.com">\n<input type="hidden" name="return" value="http://www.tcpipguide.com/free/t_IPDatagramGeneralFormat.htm">\n<input type="hidden" name="item_name" value="TCP/IP Guide PayPal Donation: $10">\n<input type="hidden" name="cancel_return" value="http://www.tcpipguide.com/free/t_IPDatagramGeneralFormat.htm">\n<input type="hidden" name="item_number" value="TCP/IP Guide PayPal Donation: $10">\n<input type="hidden" name="no_shipping" value="1">\n<input type="hidden" name="amount" value="10">\n<input type="image" align="center" src="./The%20TCP_IP%20Guide%20-%20IP%20Datagram%20General%20Format_files/x-click-but04.gif" border="0" name="submit" alt="TCP/IP Guide PayPal Donation: $10" width="62" height="31">\n</form></td></tr></tbody></table></td>\n<td><table width="80" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td align="center" valign="middle">\n<form action="https://www.paypal.com/cgi-bin/webscr" method="post" class="donateform">\n<font size="-1"><b>Donate $20</b></font>\n<input type="hidden" name="cmd" value="_xclick">\n<input type="hidden" name="business" value="pay@tcpipguide.com">\n<input type="hidden" name="return" value="http://www.tcpipguide.com/free/t_IPDatagramGeneralFormat.htm">\n<input type="hidden" name="item_name" value="TCP/IP Guide PayPal Donation: $20">\n<input type="hidden" name="cancel_return" value="http://www.tcpipguide.com/free/t_IPDatagramGeneralFormat.htm">\n<input type="hidden" name="item_number" value="TCP/IP Guide PayPal Donation: $20">\n<input type="hidden" name="no_shipping" value="1">\n<input type="hidden" name="amount" value="20">\n<input type="image" align="center" src="./The%20TCP_IP%20Guide%20-%20IP%20Datagram%20General%20Format_files/x-click-but04.gif" border="0" name="submit" alt="TCP/IP Guide PayPal Donation: $20" width="62" height="31">\n</form></td></tr></tbody></table></td>\n<td><table width="80" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td align="center" valign="middle">\n<form action="https://www.paypal.com/cgi-bin/webscr" method="post" class="donateform">\n<font size="-1"><b>Donate $30</b></font>\n<input type="hidden" name="cmd" value="_xclick">\n<input type="hidden" name="business" value="pay@tcpipguide.com">\n<input type="hidden" name="return" value="http://www.tcpipguide.com/free/t_IPDatagramGeneralFormat.htm">\n<input type="hidden" name="item_name" value="TCP/IP Guide PayPal Donation: $30">\n<input type="hidden" name="cancel_return" value="http://www.tcpipguide.com/free/t_IPDatagramGeneralFormat.htm">\n<input type="hidden" name="item_number" value="TCP/IP Guide PayPal Donation: $30">\n<input type="hidden" name="no_shipping" value="1">\n<input type="hidden" name="amount" value="30">\n<input type="image" align="center" src="./The%20TCP_IP%20Guide%20-%20IP%20Datagram%20General%20Format_files/x-click-but04.gif" border="0" name="submit" alt="TCP/IP Guide PayPal Donation: $30" width="62" height="31">\n</form></td></tr></tbody></table></td>\n<td><table width="120" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td align="center" valign="middle">\n<form action="https://www.paypal.com/cgi-bin/webscr" method="post" class="donateform">\n<font size="-1"><b>Donate: $ <input type="text" name="amount" size="4"></b></font>\n<input type="hidden" name="cmd" value="_xclick">\n<input type="hidden" name="business" value="pay@tcpipguide.com">\n<input type="hidden" name="return" value="http://www.tcpipguide.com/free/t_IPDatagramGeneralFormat.htm">\n<input type="hidden" name="item_name" value="TCP/IP Guide PayPal Donation">\n<input type="hidden" name="cancel_return" value="http://www.tcpipguide.com/free/t_IPDatagramGeneralFormat.htm">\n<input type="hidden" name="item_number" value="TCP/IP Guide PayPal Donation">\n<input type="hidden" name="no_shipping" value="1">\n<input type="image" align="center" src="./The%20TCP_IP%20Guide%20-%20IP%20Datagram%20General%20Format_files/x-click-but04.gif" border="0" name="submit" alt="TCP/IP Guide PayPal Custom Donation" width="62" height="31">\n</form></td></tr></tbody></table></td>\n</tr></tbody></table></td></tr></tbody></table>\n</td></tr></tbody></table>\n<br><hr size="3"><br>\n<font size="-1"><a href="http://www.tcpipguide.com/index.htm">Home</a> - \n<a href="http://www.tcpipguide.com/free/t_toc.htm">Table Of Contents</a> - <a href="http://www.tcpipguide.com/contact.htm">Contact Us</a><br><br>\n<b><a href="http://www.tcpipguide.com/index.htm">The TCP/IP Guide</a></b> (http://www.TCPIPGuide.com)<br>\n<a href="http://www.tcpipguide.com/versions.htm">Version 3.0</a> - Version Date: September 20, 2005<br><br>\n<a href="http://www.tcpipguide.com/free/t_CopyrightNoticeandDisclaimers.htm">&#169; Copyright 2001-2005</a> Charles M. Kozierok. All Rights Reserved.<br>\n<a href="http://www.tcpipguide.com/free/t_CopyrightNoticeandDisclaimers.htm">Not responsible for any loss resulting from the use of this site.</a>\n</font>\n</td></tr></tbody></table>\n<script language="JavaScript">\nvar dc_UnitID = 14;\nvar dc_PublisherID = 238;\nvar dc_AdLinkColor = \'blue\';\nvar  dc_adprod=\'ADL\';\n</script>\n<script language="JavaScript" src="./The%20TCP_IP%20Guide%20-%20IP%20Datagram%20General%20Format_files/KonaLibInline.js.download"></script>\n\n</body></html>'