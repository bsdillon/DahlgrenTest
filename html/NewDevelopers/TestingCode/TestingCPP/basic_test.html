<!DOCTYPE html>
<html>
  <head>
    <title>Create a C++ Test</title>
    <link rel="stylesheet" type="text/css" href="../../../common.css">
    <style>
    </style>
    <script>
    </script>
  </head>
  <body>
    <h3>Creating a C++ Basic Unit Test Using GTest</h3>
    <p>
      To create a test using GTest, create a .cpp file like you would for any other
      project.
    </p>
    <p>
      In that .cpp file, include the file/files you are testing using an include 
      statement for the headers.
    </p>
    <p>
      You must also include this include statement, #include "gtest/gtest.h", which 
      will include the GTest library.
    </p>
    <p>
      Since this is a .cpp file follow all the normal C++ conventions.
      To define a test, you essentially define a function like this:<br>
      TEST(test_case_name, test_name) { <br>
        //Code to setup the test <br>
        //One or multiple GTest ASSERT_*() or EXPECT_*() statements <br>}
    </p>
    <p>
      The name of the test group should relate to the function/feature that you are 
      testing and the name of the test should relate to what aspect of that feature 
      you are testing.
    </p>
    <p>
      EXPECT_ or ASSERT_ are formatted EXPECT_*() where * can be replaced
      by any of the defined assert/expect statements. Depending on what the * is,
      what is inside the parenthesis can be either (x) or (x, y).
    </p>
    <p>
      The difference between EXPECT_ and ASSERT_ is simple, ASSERT_ will stop the
      tests in an instance if it fails, while EXPECT_ will continue checking the 
      rest of the tests in that instance.
      
    </p>
    <p>
      There are many ways you can use the EXPECT_*/ASSERT_*, the star can be a 
      number of different things and I will link a document with a comprehensive 
      list. A two that should be known are *_EQ and *_NE, these are == and != 
      respectively and are used in the examples.
      <a 
        href="http://cheezyworld.com/wp-content/uploads/2010/12/PlainGoogleQuickTestReferenceGuide1.pdf"
        target="_blank">Different ASSERT/EXPECT_ cases.
      </a>
    </p>
    <p>
      Here is an example output of two tests on a function called addTwoNumbers.<br>
      We named the test group AddTwoNumbersTest and the individual tests addTest<br>
      and addTestExpectedFail. The second test uses NE to make sure that two <br>
      numbers don't add to something they're not supposed to.<br>
      [----------] 2 tests from AddTwoNumbersTest<br>
      [ RUN      ] AddTwoNumbersTest.addTest<br>
      [       OK ] AddTwoNumbersTest.addTest (0 ms)<br>
      [ RUN      ] AddTwoNumbersTest.addTestExpectedFail<br>
      [       OK ] AddTwoNumbersTest.addTestExpectedFail (0 ms)<br>
      [----------] 2 tests from AddTwoNumbersTest (0 ms total)<br>
    </p>
    <p>
      To build the code, we create a new file in the project called build. We can
      run CMake to create the makefiles to build your code using a terminal. From
      the build folder, we can use the following commands.<br>
      cmake ..  (runs cmake on the parent directory and puts the files in /build)<br>
      make      (builds the code so that it can be run.)<br>
      ./tst/test2_tst  (this would run the tests from the tst folder which was spawned
      from the CMakeLists.txt.)
    </p>
  </body>
</html>